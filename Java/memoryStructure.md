## 자바 메모리 구조

* Java application이 실행될 때 사용되는 메모리 영역이다.
* Java는 가비지 컬렉션을 통해 메모리를 관리하고, 메모리를 여러 영역으로 나누어 관리함으로써 효율적인 자원 활용을 지향한다.
* Java의 메모리 구조는 크게 ``메서드 영역``, ``스택 영역``, ``힙 영역`` 3개로 나눌 수 있다.

<br>

## 자바 메모리 영역
* ``메서드 영역``: 클래스 정보를 포함한, 프로그램을 실행하는데 필요한 **공통 데이터**를 관리한다. 이 영역은 프로그램의 모든 영역에서 공유한다.

  * 클래스 정보: 클래스의 실행 코드(바이트 코드), 필드, 메서드와 생성자 코드등 모든 실행 코드가 존재한다.
  * static 영역: **static 변수**들을 보관한다.
  * 런타임 상수 풀: 프로그램을 실행하는데 필요한 공통 리터럴 상수를 보관한다. 예를 들어서, 프로그램에
"hello" 라는 리터럴 문자가 있으면 이런 문자를 공통으로 묶어서 관리한다.


* ``스택 영역``: 실제 프로그램이 실행되는 영역으로, 메서드를 실행할 때마다 스택 프레임이 하나씩 쌓인다.  각 스택 프레임은 **지역 변수, 중간 연산 결과,
   메서드 호출 정보** 등을 포함한다. 메서드가 종료되면 해당 스택 프레임이 제거된다.
* ``힙 영역``: **객체(인스턴스)와 배열**이 생성되는 영역이다. 가비지 컬렉션(GC)이 이루어지는 주요 영역이며, 더 이상 참조되지 않는 객체는 GC에 의해 제거된다.

<br>

## static 키워드가 필요한 이유

```
예를 들어, 생성된 객체의 수를 세기 위해 객체가 생성될 때마다 생성자를 통해 인스턴스의 멤버 변수인 count 값을 증가시킨다고 생각해보자.
count 변수는 객체에 속해있기 때문에, 객체가 생성될 때마다 새로운 count 멤버 변수가 생성되어 값이 0으로 초기화된다.
인스턴스에 사용되는 멤버 변수 count 값은 인스턴스끼리 서로 공유되지 않는다. 따라서 원하는 답을 구할 수 없다.
이 문제를 해결하려면 변수를 서로 공유해야 하는데, 이 때 static 키워드를 사용해 공용으로 사용할 변수로 변환하면 된다.
```

## static 변수

* 특정 클래스에서 **공용으로 함께 사용할 수 있는 변수**를 만들 수 있다면 편리한데, 이 때 ``static`` 키워드를 사용하면 공용으로 함께 사용하는 변수를 만들 수 있다.
* 멤버 변수에 ``static``을 붙이게 되면 ``static`` 변수, 정적 변수 또는 클래스 변수라 한다.
* ``static`` 변수에 접근하려면, Data.count 와 같이 클래스명에 . (dot)을 사용한다.
* ``static``이 붙은 멤버 변수는 ``메서드 영역``에서 관리한다.
* ``static`` 변수는 자바 프로그램을 시작할 때 딱 1개가 만들어진다. 인스턴스와는 다르게 보통 여러곳에서 공유하는 목적으로 사용된다.
* ``static`` 변수는 해당 클래스가 JVM에 로딩 되는 순간 생성되고, JVM이 종료될 때 제거된다.
